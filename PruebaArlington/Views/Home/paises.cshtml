<script src="~/Scripts/Angular/Services/PaisService.js"></script>
<script src="~/Scripts/Angular/Controllers/PaisController.js"></script>

@{
    ViewBag.Title = "InfoClientes | Paises";
}
<div style="padding-top:10%" ng-controller="CtrlPais">
    <h2 class="tituloFormulario">Parámetros del sistema | Paises</h2>
    <br />
    <div class="precarga" ng-hide="paises">
        <i class="fa fa-refresh fa-spin fa-5x"></i>
    </div>
    <div class="form-inline" style="width:100%">
        <div class="panel panel-primary">
            <div class="panel-heading">Datos del país</div>
            <div class="panel-body" ng-style="styleEdit">
                <div class="row">
                    <div class="col-sm-2">
                        <label for="codPais">Código Pais *</label>
                        <input class="form-control" ng-disabled="InhabilitaCampoCod" maxlength="3" id="codPais" auto-focus="{{ focusCod }}" type="text" autofocus ng-model="codPais" />
                    </div>
                    <div class="col-sm-6">
                        <label for="nomPais">Nombre Pais *</label>
                        <input class="form-control" maxlength="100" type="text" ng-model="nomPais" id="nomPais" auto-focus="{{ focusNom }}" autocomplete="off" />
                    </div>
                    <div class="col-sm-4">
                        <label for="cosIso">Código ISO *</label>
                        <input class="form-control" maxlength="3" type="text" ng-model="cosIso" autocomplete="off" />
                    </div>
                </div>
                <br />
                <div style="float: right;">
                    <input type="button" class="btn btn-success" value="Guardar" id="btnGuardar" ng-click="AddUpdatePais()" />
                    <input type="button" class="btn btn-danger" id="btnCancel" value="Limpiar" ng-click="ClearFields()" />
                </div>
             </div>
        </div>      
    </div>
    <br />
    <h3>Lista de paises existentes</h3>
    <div ng-show="paises">
        <input type="search" ng-model="buscador" class="form-control" placeholder="Digite cualquier criterio de busqueda"> <br>
        <div class="col-sm-12">
            <div class="col-sm-2"><h4 class="display-4">Cod Pais</h4></div>
            <div class="col-sm-6"><h4 class="display-4">Nombre pais</h4></div>
            <div class="col-sm-2"><h4 class="display-4">Cod ISO</h4></div>
            <div class="col-sm-1"><h4 class="display-4">Editar</h4></div>
            <div class="col-sm-1"><h4 class="display-4">Eliminar</h4></div>
        </div>
        <hr />
        <div class="ScrollStyle">
            <div ng-repeat="pais in paises | filter:buscador" class="row">
                <div class="col-sm-12">
                    <div class="col-sm-2" ng-bind="pais.PsCodPais"></div>
                    <div class="col-sm-6" ng-bind="pais.PsNomPais"></div>
                    <div class="col-sm-2" ng-bind="pais.PsCodIso"></div>
                    <div class="col-sm-1"><button ng-click="editPais(pais)" id="btnEditar" type="button" class="btn btn-primary">Editar</button></div>
                    <div class="col-sm-1"><button confirmed-click="EliminaPais(pais)"
                            ng-confirm-click="Seguro que desea eliminar el pais {{pais.PsNomPais}}?"  type="button" class="btn btn-danger">Eliminar</button></div>                  
                    </div>
                <hr />
            </div>
        </div>       
    </div>
</div>

<script>
    $("#btnCancel").click(function () {
        $("#codPais").focus();
    });
</script>



